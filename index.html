<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Simple Shooting Game</title>
<style>
  body {
    margin: 0;
    background: #222;
    overflow: hidden;
    font-family: Arial, sans-serif;
    color: white;
    user-select: none;
  }
  #game {
    position: relative;
    width: 400px;
    height: 600px;
    margin: 20px auto;
    background: linear-gradient(#000, #444);
    border: 3px solid #555;
    overflow: hidden;
  }
  #shooter {
    position: absolute;
    bottom: 20px;
    left: 50%;
    width: 50px;
    height: 20px;
    background: #0f0;
    border-radius: 5px;
    transform: translateX(-50%);
  }
  .bullet {
    position: absolute;
    width: 5px;
    height: 15px;
    background: yellow;
    border-radius: 3px;
  }
  .target {
    position: absolute;
    width: 40px;
    height: 40px;
    background: red;
    border-radius: 50%;
  }
  #scoreboard {
    text-align: center;
    margin-top: 10px;
    font-size: 20px;
  }
</style>
</head>
<body>

<div id="game">
  <div id="shooter"></div>
</div>
<div id="scoreboard">Score: 0</div>

<script>
  const game = document.getElementById('game');
  const shooter = document.getElementById('shooter');
  const scoreboard = document.getElementById('scoreboard');

  const gameWidth = game.clientWidth;
  const gameHeight = game.clientHeight;

  let shooterX = gameWidth / 2;
  const shooterSpeed = 15;
  let score = 0;

  let bullets = [];
  let targets = [];

  // Move shooter with arrow keys
  const keys = {
    left: false,
    right: false,
    space: false,
  };

  window.addEventListener('keydown', e => {
    if (e.code === 'ArrowLeft') keys.left = true;
    if (e.code === 'ArrowRight') keys.right = true;
    if (e.code === 'Space') keys.space = true;
  });

  window.addEventListener('keyup', e => {
    if (e.code === 'ArrowLeft') keys.left = false;
    if (e.code === 'ArrowRight') keys.right = false;
    if (e.code === 'Space') keys.space = false;
  });

  // Create a bullet at the shooter position
  function shoot() {
    const bullet = document.createElement('div');
    bullet.classList.add('bullet');
    bullet.style.left = shooterX + 'px';
    bullet.style.bottom = '40px';
    game.appendChild(bullet);
    bullets.push({el: bullet, x: shooterX, y: 40});
  }

  // Create targets falling from the top randomly
  function createTarget() {
    const target = document.createElement('div');
    target.classList.add('target');
    const x = Math.random() * (gameWidth - 40);
    target.style.left = x + 'px';
    target.style.top = '0px';
    game.appendChild(target);
    targets.push({el: target, x: x, y: 0, speed: 2 + Math.random() * 2});
  }

  // Update game elements positions
  function update() {
    // Move shooter
    if (keys.left && shooterX > 25) {
      shooterX -= shooterSpeed;
    }
    if (keys.right && shooterX < gameWidth - 25) {
      shooterX += shooterSpeed;
    }
    shooter.style.left = shooterX + 'px';

    // Shoot bullet (limit firing rate)
    if (keys.space && !shoot.lastShot || (Date.now() - shoot.lastShot > 300)) {
      shoot();
      shoot.lastShot = Date.now();
    }

    // Move bullets up
    bullets.forEach((bullet, i) => {
      bullet.y += 8;
      if (bullet.y > gameHeight) {
        bullet.el.remove();
        bullets.splice(i, 1);
      } else {
        bullet.el.style.bottom = bullet.y + 'px';
      }
    });

    // Move targets down
    targets.forEach((target, i) => {
      target.y += target.speed;
      if (target.y > gameHeight) {
        // Remove target if it falls past bottom
        target.el.remove();
        targets.splice(i, 1);
      } else {
        target.el.style.top = target.y + 'px';
      }
    });

    // Check collisions (bullet with target)
    bullets.forEach((bullet, bi) => {
      targets.forEach((target, ti) => {
        if (
          bullet.x > target.x - 10 &&
          bullet.x < target.x + 40 + 10 &&
          bullet.y > gameHeight - target.y - 40 - 10 &&
          bullet.y < gameHeight - target.y + 10
        ) {
          // Collision detected
          target.el.remove();
          target.el.style.display = 'none';
          targets.splice(ti, 1);

          bullet.el.remove();
          bullets.splice(bi, 1);

          score += 10;
          scoreboard.textContent = `Score: ${score}`;
        }
      });
    });

    requestAnimationFrame(update);
  }

  // Create targets every 1.5 seconds
  setInterval(createTarget, 1500);

  update();
</script>

</body>
</html>
